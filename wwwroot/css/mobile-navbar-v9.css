/* ===================================
   Ø¥ØµÙ„Ø§Ø­ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
   Version: 9.0 - Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ù„ØºØ§Øª + Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø±Ù†
   =================================== */

/* ==========================================
   1. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†
   ========================================== */
:root {
    --nav-bg-light: #ffffff;
    --nav-text-light: #1a1d23;
    --nav-text-muted-light: #6c757d;
    --nav-border-light: #e9ecef;
    --nav-hover-bg-light: #f8f9fa;
    --nav-active-bg-light: linear-gradient(135deg, #C9A227 0%, #9A7B1A 100%);
    --nav-dropdown-shadow-light: 0 10px 40px rgba(0, 0, 0, 0.15);
    
    --nav-bg-dark: #1a1d23;
    --nav-text-dark: #f0f0f0;
    --nav-text-muted-dark: #a0aec0;
    --nav-border-dark: #2d3748;
    --nav-hover-bg-dark: #2d3748;
    --nav-dropdown-shadow-dark: 0 10px 40px rgba(0, 0, 0, 0.4);
    
    --primary-color: #C9A227;
    --primary-dark: #9A7B1A;
}

/* ==========================================
   2. Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ù„ØºØ§Øª - Ø¥ÙŠÙ…ÙˆØ¬ÙŠ ÙÙ‚Ø·
   ========================================== */

/* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Øµ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¹Ù„Ù… ÙÙ‚Ø· */
.language-selector .flag-text,
.language-form .lang-code {
    display: none !important;
}

/* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¹Ù„Ù… */
.flag-icon,
.language-flag,
.flag {
    font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", "Android Emoji", sans-serif !important;
    font-size: 1.75rem !important;
    line-height: 1 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 32px !important;
    height: 32px !important;
}

/* Ø£Ø¹Ù„Ø§Ù… Ù…Ø­Ø¯Ø¯Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… data attribute */
[data-lang="ar"]::before,
[data-lang="ar-IQ"]::before,
.flag-iq::before,
.flag[data-country="iq"]::before {
    content: "ðŸ‡®ðŸ‡¶" !important;
}

[data-lang="en"]::before,
[data-lang="en-US"]::before,
[data-lang="en-GB"]::before,
.flag-en::before,
.flag-gb::before,
.flag[data-country="gb"]::before,
.flag[data-country="en"]::before {
    content: "ðŸ‡¬ðŸ‡§" !important;
}

[data-lang="ku"]::before,
[data-lang="ckb"]::before,
.flag-ku::before,
.flag[data-country="ku"]::before {
    content: "ðŸ‡®ðŸ‡¶" !important;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© */
.current-language-flag {
    font-size: 1.75rem !important;
    margin-inline-end: 0.5rem !important;
}

/* ==========================================
   3. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
   ========================================== */
@media (max-width: 991.98px) {

    /* ==========================================
       3.1 Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (Hamburger)
       ========================================== */
    .navbar-toggler {
        display: flex !important;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        padding: 0;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 10px;
        background: transparent !important;
        box-shadow: none !important;
        outline: none !important;
        transition: all 0.3s ease;
        flex-shrink: 0;
    }
    
    .navbar-toggler:hover,
    .navbar-toggler:focus {
        border-color: var(--primary-color) !important;
        background: rgba(201, 162, 39, 0.1) !important;
    }
    
    .navbar-toggler-icon {
        width: 24px;
        height: 24px;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%231a1d23' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
    }

    /* ==========================================
       3.2 Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ…Ø±ÙŠØ±
       ========================================== */
    .navbar-collapse {
        position: fixed !important;
        top: 70px !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: var(--nav-bg-light) !important;
        padding: 0 !important;
        z-index: 1050 !important;
        display: none !important;
        flex-direction: column !important;
        overflow: hidden !important;
    }
    
    .navbar-collapse.show {
        display: flex !important;
    }

    /* ==========================================
       3.3 Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ…Ø±ÙŠØ±
       ========================================== */
    .navbar-collapse > .navbar-nav,
    .navbar-collapse > .d-flex,
    .navbar-collapse > ul,
    .navbar-collapse > div {
        flex: 1 1 auto !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        padding: 1rem !important;
        padding-bottom: 120px !important;
        -webkit-overflow-scrolling: touch !important;
        overscroll-behavior: contain !important;
        scroll-behavior: smooth !important;
        max-height: calc(100vh - 70px) !important;
    }

    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØµØµ */
    .navbar-collapse > .navbar-nav::-webkit-scrollbar,
    .navbar-collapse > .d-flex::-webkit-scrollbar,
    .navbar-collapse > ul::-webkit-scrollbar,
    .navbar-collapse > div::-webkit-scrollbar {
        width: 8px;
    }
    
    .navbar-collapse > .navbar-nav::-webkit-scrollbar-track,
    .navbar-collapse > .d-flex::-webkit-scrollbar-track,
    .navbar-collapse > ul::-webkit-scrollbar-track,
    .navbar-collapse > div::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
        border-radius: 4px;
    }
    
    .navbar-collapse > .navbar-nav::-webkit-scrollbar-thumb,
    .navbar-collapse > .d-flex::-webkit-scrollbar-thumb,
    .navbar-collapse > ul::-webkit-scrollbar-thumb,
    .navbar-collapse > div::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, var(--primary-color), var(--primary-dark));
        border-radius: 4px;
        border: 2px solid transparent;
        background-clip: padding-box;
    }
    
    .navbar-collapse > .navbar-nav::-webkit-scrollbar-thumb:hover,
    .navbar-collapse > .d-flex::-webkit-scrollbar-thumb:hover,
    .navbar-collapse > ul::-webkit-scrollbar-thumb:hover,
    .navbar-collapse > div::-webkit-scrollbar-thumb:hover {
        background: var(--primary-color);
    }

    /* ==========================================
       3.4 Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
       ========================================== */
    .navbar-nav {
        flex-direction: column !important;
        width: 100% !important;
        gap: 0.5rem !important;
    }
    
    .navbar-nav .nav-item {
        width: 100% !important;
        flex-shrink: 0 !important;
    }
    
    .navbar-nav .nav-link {
        display: flex !important;
        align-items: center !important;
        width: 100% !important;
        padding: 1rem 1.25rem !important;
        border-radius: 12px !important;
        color: var(--nav-text-light) !important;
        font-weight: 600 !important;
        font-size: 1rem !important;
        transition: all 0.2s ease !important;
        background: transparent !important;
        border: 2px solid transparent !important;
        min-height: 56px !important;
    }
    
    .navbar-nav .nav-link:hover,
    .navbar-nav .nav-link:focus {
        background: var(--nav-hover-bg-light) !important;
        color: var(--primary-color) !important;
        border-color: rgba(201, 162, 39, 0.3) !important;
    }
    
    .navbar-nav .nav-link.active {
        background: var(--nav-active-bg-light) !important;
        color: #ffffff !important;
        border-color: transparent !important;
    }
    
    .navbar-nav .nav-link i {
        width: 28px;
        font-size: 1.1rem;
        text-align: center;
        flex-shrink: 0;
    }

    /* ==========================================
       3.5 Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„ØºØ§Øª - Ù…Ø¹ Ø£Ø¹Ù„Ø§Ù… Ø¥ÙŠÙ…ÙˆØ¬ÙŠ
       ========================================== */
    .language-selector {
        width: 100% !important;
        margin: 0.75rem 0 !important;
        flex-shrink: 0 !important;
    }
    
    .language-selector .language-dropdown,
    .language-selector .nav-link.dropdown-toggle,
    #languageMenu {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        width: 100% !important;
        padding: 1rem 1.25rem !important;
        background: var(--nav-hover-bg-light) !important;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 12px !important;
        color: var(--nav-text-light) !important;
        font-weight: 600 !important;
        font-size: 1rem !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        min-height: 56px !important;
    }
    
    .language-selector .language-dropdown:hover,
    #languageMenu:hover {
        border-color: var(--primary-color) !important;
        background: #ffffff !important;
    }

    /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    .language-selector .dropdown-menu,
    #languageDropdown {
        position: static !important;
        width: 100% !important;
        margin-top: 0.75rem !important;
        padding: 0.75rem !important;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 12px !important;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
        background: var(--nav-bg-light) !important;
        transform: none !important;
        opacity: 1 !important;
        visibility: visible !important;
        display: none !important;
    }
    
    .language-selector .dropdown-menu.show,
    #languageDropdown.show {
        display: block !important;
    }
    
    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ© Ù…Ø¹ Ø§Ù„Ø£Ø¹Ù„Ø§Ù… */
    .language-form {
        width: 100% !important;
        margin: 0.25rem 0 !important;
    }
    
    .language-form button,
    .language-option {
        display: flex !important;
        align-items: center !important;
        gap: 0.75rem !important;
        width: 100% !important;
        padding: 0.875rem 1rem !important;
        border: none !important;
        border-radius: 10px !important;
        background: transparent !important;
        color: var(--nav-text-light) !important;
        font-size: 1rem !important;
        font-weight: 500 !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        min-height: 50px !important;
    }
    
    .language-form button:hover,
    .language-option:hover {
        background: var(--nav-hover-bg-light) !important;
        color: var(--primary-color) !important;
    }
    
    .language-form button.active,
    .language-form button:disabled,
    .language-option.active {
        background: rgba(201, 162, 39, 0.15) !important;
        color: var(--primary-color) !important;
        cursor: default !important;
    }

    /* Ø§Ù„Ø¹Ù„Ù… ÙÙŠ Ø²Ø± Ø§Ù„Ù„ØºØ© */
    .language-form button .flag,
    .language-option .flag {
        font-size: 1.5rem !important;
        width: 28px !important;
        height: 28px !important;
    }

    /* Ø§Ø³Ù… Ø§Ù„Ù„ØºØ© */
    .language-form button .lang-name,
    .language-option .lang-name {
        flex: 1 !important;
        text-align: start !important;
    }

    /* ==========================================
       3.6 Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
       ========================================== */
    .nav-item.dropdown:has(.user-dropdown),
    .nav-item.dropdown:has(.user-avatar) {
        width: 100% !important;
        margin: 0.75rem 0 !important;
        flex-shrink: 0 !important;
    }
    
    .user-dropdown,
    #userMenu {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        width: 100% !important;
        padding: 1rem 1.25rem !important;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 12px !important;
        color: var(--nav-text-light) !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        min-height: 60px !important;
    }
    
    .user-dropdown:hover,
    #userMenu:hover {
        border-color: var(--primary-color) !important;
    }
    
    .user-avatar {
        width: 44px !important;
        height: 44px !important;
        min-width: 44px !important;
        border-radius: 50% !important;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%) !important;
        color: #ffffff !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-weight: 700 !important;
        font-size: 1.1rem !important;
        margin-inline-start: 1rem !important;
        box-shadow: 0 2px 8px rgba(201, 162, 39, 0.3) !important;
        flex-shrink: 0 !important;
    }

    /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© - Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ…Ø±ÙŠØ± */
    .user-dropdown + .dropdown-menu,
    .nav-item.dropdown:has(.user-dropdown) .dropdown-menu,
    #userMenu + .dropdown-menu {
        position: static !important;
        width: 100% !important;
        margin-top: 0.75rem !important;
        padding: 0.75rem !important;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 12px !important;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
        background: var(--nav-bg-light) !important;
        transform: none !important;
        opacity: 1 !important;
        visibility: visible !important;
        display: none !important;
        max-height: 60vh !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    .user-dropdown + .dropdown-menu.show,
    .nav-item.dropdown:has(.user-dropdown) .dropdown-menu.show,
    #userMenu + .dropdown-menu.show {
        display: block !important;
    }

    /* Ø´Ø±ÙŠØ· ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    .dropdown-menu::-webkit-scrollbar {
        width: 6px;
    }
    
    .dropdown-menu::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
        border-radius: 3px;
    }
    
    .dropdown-menu::-webkit-scrollbar-thumb {
        background: var(--primary-color);
        border-radius: 3px;
    }

    /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    .dropdown-item {
        display: flex !important;
        align-items: center !important;
        width: 100% !important;
        padding: 0.875rem 1rem !important;
        border-radius: 10px !important;
        color: var(--nav-text-light) !important;
        font-weight: 500 !important;
        font-size: 1rem !important;
        transition: all 0.2s ease !important;
        margin: 0.25rem 0 !important;
        background: transparent !important;
        min-height: 50px !important;
        flex-shrink: 0 !important;
    }
    
    .dropdown-item:hover,
    .dropdown-item:focus {
        background: var(--nav-hover-bg-light) !important;
        color: var(--primary-color) !important;
    }
    
    .dropdown-item i {
        width: 28px !important;
        text-align: center !important;
        font-size: 1.1rem !important;
        margin-inline-end: 0.75rem !important;
        color: var(--nav-text-muted-light) !important;
        flex-shrink: 0 !important;
    }
    
    .dropdown-item:hover i {
        color: var(--primary-color) !important;
    }
    
    .dropdown-item.text-danger {
        color: #dc3545 !important;
    }
    
    .dropdown-item.text-danger:hover {
        background: rgba(220, 53, 69, 0.1) !important;
        color: #dc3545 !important;
    }
    
    .dropdown-item.text-danger i {
        color: #dc3545 !important;
    }
    
    .dropdown-divider {
        margin: 0.75rem 0 !important;
        border-color: var(--nav-border-light) !important;
        opacity: 1 !important;
        flex-shrink: 0 !important;
    }

    /* ==========================================
       3.7 Ø¬Ø±Ø³ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
       ========================================== */
    .nav-item:has(.notification-bell) {
        width: 100% !important;
        margin: 0.5rem 0 !important;
        flex-shrink: 0 !important;
    }
    
    .notification-bell {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        padding: 1rem 1.25rem !important;
        background: var(--nav-hover-bg-light) !important;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 12px !important;
        color: var(--nav-text-light) !important;
        position: relative !important;
        transition: all 0.2s ease !important;
        font-weight: 600 !important;
        min-height: 56px !important;
    }
    
    .notification-bell:hover {
        border-color: var(--primary-color) !important;
        color: var(--primary-color) !important;
        background: #ffffff !important;
    }
    
    .notification-bell i {
        font-size: 1.2rem !important;
        margin-inline-end: 0.5rem !important;
    }
    
    #notification-badge,
    .notification-badge {
        position: absolute !important;
        top: 0.5rem !important;
        inset-inline-end: 1rem !important;
        min-width: 22px !important;
        height: 22px !important;
        padding: 0 6px !important;
        font-size: 12px !important;
        line-height: 22px !important;
        border-radius: 11px !important;
        background: #dc3545 !important;
        color: #fff !important;
        font-weight: 700 !important;
        box-shadow: 0 2px 6px rgba(220, 53, 69, 0.4) !important;
    }

    /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª - Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ…Ø±ÙŠØ± */
    #notification-menu,
    .notification-dropdown {
        position: fixed !important;
        top: 70px !important;
        left: 1rem !important;
        right: 1rem !important;
        max-height: 70vh !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        background: var(--nav-bg-light) !important;
        border: 2px solid var(--nav-border-light) !important;
        border-radius: 16px !important;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2) !important;
        z-index: 1060 !important;
        padding: 0 !important;
    }

    /* Ø±Ø£Ø³ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
    .notification-header {
        position: sticky !important;
        top: 0 !important;
        background: var(--nav-bg-light) !important;
        padding: 1rem !important;
        border-bottom: 1px solid var(--nav-border-light) !important;
        z-index: 1 !important;
    }

    /* Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± */
    .notification-item {
        padding: 1rem !important;
        border-bottom: 1px solid var(--nav-border-light) !important;
        color: var(--nav-text-light) !important;
    }

    .notification-item:last-child {
        border-bottom: none !important;
    }

    .notification-item.unread {
        background: rgba(201, 162, 39, 0.08) !important;
    }

    /* ==========================================
       3.8 Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
       ========================================== */
    .btn-outline-custom {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        padding: 1rem 1.5rem !important;
        border-radius: 12px !important;
        font-weight: 700 !important;
        font-size: 1rem !important;
        gap: 0.75rem !important;
        margin-top: 0.75rem !important;
        border: 2px solid var(--primary-color) !important;
        color: var(--primary-color) !important;
        background: transparent !important;
        transition: all 0.3s ease !important;
        min-height: 56px !important;
        flex-shrink: 0 !important;
    }
    
    .btn-outline-custom:hover {
        background: var(--primary-color) !important;
        color: #ffffff !important;
    }

    /* ==========================================
       3.9 Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„
       ========================================== */
    .scroll-indicator {
        position: fixed !important;
        bottom: 90px !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: 50px !important;
        height: 50px !important;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%) !important;
        border-radius: 50% !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        box-shadow: 0 4px 20px rgba(201, 162, 39, 0.5) !important;
        z-index: 1055 !important;
        cursor: pointer !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.3s ease !important;
        border: 3px solid rgba(255, 255, 255, 0.3) !important;
    }

    .scroll-indicator.visible {
        opacity: 1 !important;
        visibility: visible !important;
        animation: bounceDown 1.5s infinite !important;
    }

    .scroll-indicator i,
    .scroll-indicator::before {
        color: white !important;
        font-size: 1.5rem !important;
    }

    .scroll-indicator::before {
        content: "â†“" !important;
        font-weight: bold !important;
    }

    @keyframes bounceDown {
        0%, 100% {
            transform: translateX(-50%) translateY(0);
        }
        50% {
            transform: translateX(-50%) translateY(10px);
        }
    }

    /* ==========================================
       3.10 Ù…Ø³Ø§Ø­Ø© Ø¥Ø¶Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
       ========================================== */
    .navbar-nav::after {
        content: '';
        display: block;
        height: 100px;
        flex-shrink: 0;
    }
}

/* ==========================================
   4. Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… (Dark Mode)
   ========================================== */
@media (prefers-color-scheme: dark) {
    @media (max-width: 991.98px) {
        
        /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
        .navbar-toggler {
            border-color: var(--nav-border-dark) !important;
        }
        
        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23f0f0f0' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
        }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .navbar-collapse {
            background: var(--nav-bg-dark) !important;
            border-color: var(--nav-border-dark) !important;
        }
        
        /* Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ†Ù‚Ù„ */
        .navbar-nav .nav-link {
            color: var(--nav-text-dark) !important;
        }
        
        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link:focus {
            background: var(--nav-hover-bg-dark) !important;
            color: var(--primary-color) !important;
            border-color: rgba(201, 162, 39, 0.4) !important;
        }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„ØºØ§Øª */
        .language-selector .language-dropdown,
        .language-selector .nav-link.dropdown-toggle,
        #languageMenu {
            background: var(--nav-hover-bg-dark) !important;
            border-color: var(--nav-border-dark) !important;
            color: var(--nav-text-dark) !important;
        }
        
        .language-selector .language-dropdown:hover,
        #languageMenu:hover {
            background: #374151 !important;
            border-color: var(--primary-color) !important;
        }
        
        .language-selector .dropdown-menu,
        #languageDropdown {
            background: #1e2530 !important;
            border-color: var(--nav-border-dark) !important;
        }
        
        .language-form button,
        .language-option {
            color: var(--nav-text-dark) !important;
        }
        
        .language-form button:hover,
        .language-option:hover {
            background: var(--nav-hover-bg-dark) !important;
            color: var(--primary-color) !important;
        }
        
        .language-form button.active,
        .language-form button:disabled,
        .language-option.active {
            background: rgba(201, 162, 39, 0.25) !important;
            color: var(--primary-color) !important;
        }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
        .user-dropdown,
        #userMenu {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%) !important;
            border-color: var(--nav-border-dark) !important;
            color: var(--nav-text-dark) !important;
        }
        
        .user-dropdown:hover,
        #userMenu:hover {
            border-color: var(--primary-color) !important;
        }
        
        .user-dropdown + .dropdown-menu,
        .nav-item.dropdown:has(.user-dropdown) .dropdown-menu,
        #userMenu + .dropdown-menu {
            background: #1e2530 !important;
            border-color: var(--nav-border-dark) !important;
        }
        
        /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
        .dropdown-item {
            color: var(--nav-text-dark) !important;
        }
        
        .dropdown-item:hover,
        .dropdown-item:focus {
            background: var(--nav-hover-bg-dark) !important;
            color: var(--primary-color) !important;
        }
        
        .dropdown-item i {
            color: var(--nav-text-muted-dark) !important;
        }
        
        .dropdown-item:hover i {
            color: var(--primary-color) !important;
        }
        
        .dropdown-divider {
            border-color: var(--nav-border-dark) !important;
        }
        
        /* Ø¬Ø±Ø³ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification-bell {
            background: var(--nav-hover-bg-dark) !important;
            border-color: var(--nav-border-dark) !important;
            color: var(--nav-text-dark) !important;
        }
        
        .notification-bell:hover {
            background: #374151 !important;
            border-color: var(--primary-color) !important;
            color: var(--primary-color) !important;
        }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        #notification-menu,
        .notification-dropdown {
            background: #1e2530 !important;
            border-color: var(--nav-border-dark) !important;
        }

        .notification-header {
            background: #1e2530 !important;
            border-color: var(--nav-border-dark) !important;
        }
        
        .notification-item {
            color: var(--nav-text-dark) !important;
            border-color: var(--nav-border-dark) !important;
        }
        
        .notification-item:hover {
            background: var(--nav-hover-bg-dark) !important;
        }
        
        .notification-item.unread {
            background: rgba(201, 162, 39, 0.15) !important;
        }
        
        /* Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .btn-outline-custom {
            border-color: var(--primary-color) !important;
            color: var(--primary-color) !important;
        }
        
        .btn-outline-custom:hover {
            background: var(--primary-color) !important;
            color: #1a1d23 !important;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .navbar-collapse > .navbar-nav::-webkit-scrollbar-track,
        .navbar-collapse > .d-flex::-webkit-scrollbar-track,
        .dropdown-menu::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
    }
}

/* ==========================================
   5. Ø´Ø§Ø´Ø§Øª ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (< 576px)
   ========================================== */
@media (max-width: 575.98px) {
    .navbar-brand {
        font-size: 1.1rem !important;
    }
    
    .navbar-brand img {
        max-height: 38px !important;
    }
    
    .navbar-collapse {
        top: 60px !important;
    }
    
    .navbar-collapse > .navbar-nav,
    .navbar-collapse > .d-flex,
    .navbar-collapse > ul,
    .navbar-collapse > div {
        padding: 0.75rem !important;
        padding-bottom: 140px !important;
    }
    
    .navbar-nav .nav-link,
    .dropdown-item,
    .language-form button {
        padding: 0.875rem 1rem !important;
        font-size: 0.95rem !important;
        min-height: 50px !important;
    }
    
    .user-avatar {
        width: 40px !important;
        height: 40px !important;
        min-width: 40px !important;
        font-size: 1rem !important;
    }

    /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    .scroll-indicator {
        bottom: 100px !important;
        width: 45px !important;
        height: 45px !important;
    }

    /* Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
    .mobile-bottom-nav {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        background: var(--nav-bg-light) !important;
        border-top: 1px solid var(--nav-border-light) !important;
        padding: 0.5rem 0 !important;
        padding-bottom: env(safe-area-inset-bottom, 0.5rem) !important;
        z-index: 1040 !important;
        display: block !important;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1) !important;
    }
    
    .mobile-bottom-nav .nav {
        display: flex !important;
        justify-content: space-around !important;
        align-items: center !important;
    }
    
    .mobile-bottom-nav .nav-link {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        padding: 0.5rem 0.75rem !important;
        color: var(--nav-text-muted-light) !important;
        font-size: 0.7rem !important;
        text-decoration: none !important;
        transition: all 0.2s ease !important;
        background: transparent !important;
        border: none !important;
        border-radius: 8px !important;
        min-height: auto !important;
    }
    
    .mobile-bottom-nav .nav-link i {
        font-size: 1.3rem !important;
        margin-bottom: 0.25rem !important;
        width: auto !important;
    }
    
    .mobile-bottom-nav .nav-link.active {
        color: var(--primary-color) !important;
        background: rgba(201, 162, 39, 0.1) !important;
    }
    
    body {
        padding-bottom: 75px !important;
    }
    
    .main-footer {
        margin-bottom: 65px !important;
    }
    
    /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… Ù„Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
    @media (prefers-color-scheme: dark) {
        .mobile-bottom-nav {
            background: var(--nav-bg-dark) !important;
            border-color: var(--nav-border-dark) !important;
        }
        
        .mobile-bottom-nav .nav-link {
            color: var(--nav-text-muted-dark) !important;
        }
        
        .mobile-bottom-nav .nav-link.active {
            color: var(--primary-color) !important;
            background: rgba(201, 162, 39, 0.15) !important;
        }
    }
}

/* ==========================================
   6. ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ ÙˆØ§Ù„Ù„Ù…Ø³
   ========================================== */
@media (max-width: 991.98px) {
    .nav-link,
    .dropdown-item,
    .language-form button,
    .btn,
    .dropdown-toggle,
    .notification-bell,
    .scroll-indicator {
        -webkit-tap-highlight-color: transparent !important;
        touch-action: manipulation !important;
        user-select: none !important;
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ØºØ· */
    .nav-link:active,
    .dropdown-item:active,
    .language-form button:active,
    .notification-bell:active {
        transform: scale(0.98) !important;
        opacity: 0.9 !important;
    }

    .scroll-indicator:active {
        transform: translateX(-50%) scale(0.95) !important;
    }
}

/* ==========================================
   7. Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
   ========================================== */
body.nav-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    touch-action: none !important;
}

/* ==========================================
   8. Ø¯Ø¹Ù… Safe Area Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©
   ========================================== */
@supports (padding: env(safe-area-inset-bottom)) {
    @media (max-width: 991.98px) {
        .navbar-collapse > .navbar-nav,
        .navbar-collapse > .d-flex,
        .navbar-collapse > ul,
        .navbar-collapse > div {
            padding-bottom: calc(120px + env(safe-area-inset-bottom)) !important;
        }
        
        .scroll-indicator {
            bottom: calc(90px + env(safe-area-inset-bottom)) !important;
        }
    }
}
